
from tkinter import *
from tkinter import messagebox
import Main  

def add_transaction_gui():
    add_window = Toplevel()
    add_window.title("Add a new transaction")

    Label(add_window, text="Date (YYYY-MM-DD):").grid(row=0, column=0)
    date_entry = Entry(add_window)
    date_entry.grid(row=0, column=1)

    Label(add_window, text="Description:").grid(row=1, column=0)
    description_entry = Entry(add_window)
    description_entry.grid(row=1, column=1)

    Label(add_window, text="Category:").grid(row=2, column=0)
    category_entry = Entry(add_window)
    category_entry.grid(row=2, column=1)

    Label(add_window, text="Amount:").grid(row=3, column=0)
    amount_entry = Entry(add_window)
    amount_entry.grid(row=3, column=1)

    Button(add_window, text="Add", command=lambda: Main.add_transaction(date_entry.get(), description_entry.get(), category_entry.get(), float(amount_entry.get()))).grid(row=4, column=0, columnspan=2)

def delete_transaction_gui():
    delete_window = Toplevel()
    delete_window.title("Delete a transaction")

    Label(delete_window, text="Transaction ID:").grid(row=0, column=0)
    id_entry = Entry(delete_window)
    id_entry.grid(row=0, column=1)

    Button(delete_window, text="Delete", command=lambda: Main.delete_transaction(id_entry.get())).grid(row=1, column=0, columnspan=2)

def update_transaction_gui():
    update_window = Toplevel()
    update_window.title("Update a transaction")

    Label(update_window, text="Transaction ID:").grid(row=0, column=0)
    id_entry = Entry(update_window)
    id_entry.grid(row=0, column=1)

    Label(update_window, text="Date (YYYY-MM-DD):").grid(row=1, column=0)
    date_entry = Entry(update_window)
    date_entry.grid(row=1, column=1)
   
    Label(update_window, text="Description:").grid(row=2, column=0)
    description_entry = Entry(update_window)
    description_entry.grid(row=2, column=1)
   
    Label(update_window, text="Category:").grid(row=3, column=0)
    category_entry = Entry(update_window)
    category_entry.grid(row=3, column=1)

    Label(update_window, text="Amount:").grid(row=4, column=0)
    amount_entry = Entry(update_window)
    amount_entry.grid(row=4, column=1)

    Button(update_window, text="Update", command=lambda: Main.update_transaction(id_entry.get(), date_entry.get(), description_entry.get(), category_entry.get(), float(amount_entry.get()))).grid(row=5, column=0, columnspan=2)

def main_gui():
    Main.create_database() 

    root = Tk()
    root.title("Budget Tracker")
    root.geometry('350x200')
    Label(root, text="Budget Tracker").grid(column=0, row=0, columnspan=2)

    button_font = ("Times New Roman", 12)

    Button(root, text="Add a new transaction", command=add_transaction_gui, font=button_font).grid(column=0, row=1)
    Button(root, text="View all transactions", command=Main.view_transactions, font=button_font).grid(column=0, row=2)
   
    Button(root, text="Delete a transaction", command=delete_transaction_gui,font=button_font).grid(column=0, row=3)
    Button(root, text="Update a transaction", command=update_transaction_gui, font=button_font).grid(column=0, row=4)
    Button(root, text="Exit", command=root.quit, font=button_font).grid(column=0, row=5)

    root.mainloop()

if __name__ == "__main__":
    main_gui()